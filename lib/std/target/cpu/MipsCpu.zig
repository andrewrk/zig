const feature = @import("std").target.feature;
const CpuInfo = @import("std").target.cpu.CpuInfo;

pub const MipsCpu = enum {
    Mips1,
    Mips2,
    Mips3,
    Mips32,
    Mips32r2,
    Mips32r3,
    Mips32r5,
    Mips32r6,
    Mips4,
    Mips5,
    Mips64,
    Mips64r2,
    Mips64r3,
    Mips64r5,
    Mips64r6,
    Octeon,
    P5600,

    pub fn getInfo(self: @This()) CpuInfo {
        return cpu_infos[@enumToInt(self)];
    }

    pub const FeatureType = feature.MipsFeature;

    const cpu_infos = [@memberCount(@This())]CpuInfo(@This()) {
        CpuInfo(@This()).create(.Mips1, "mips1", &[_]FeatureType {
            .Mips1,
        },
        CpuInfo(@This()).create(.Mips2, "mips2", &[_]FeatureType {
            .Mips1,
            .Mips2,
        },
        CpuInfo(@This()).create(.Mips3, "mips3", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips3_32r2,
            .Mips1,
            .Gp64,
            .Mips3,
        },
        CpuInfo(@This()).create(.Mips32, "mips32", &[_]FeatureType {
            .Mips3_32,
            .Mips4_32,
            .Mips1,
            .Mips32,
        },
        CpuInfo(@This()).create(.Mips32r2, "mips32r2", &[_]FeatureType {
            .Mips3_32,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Mips5_32r2,
            .Mips32r2,
        },
        CpuInfo(@This()).create(.Mips32r3, "mips32r3", &[_]FeatureType {
            .Mips3_32,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Mips5_32r2,
            .Mips32r3,
        },
        CpuInfo(@This()).create(.Mips32r5, "mips32r5", &[_]FeatureType {
            .Mips3_32,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Mips5_32r2,
            .Mips32r5,
        },
        CpuInfo(@This()).create(.Mips32r6, "mips32r6", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Abs2008,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Nan2008,
            .Mips5_32r2,
            .Mips32r6,
        },
        CpuInfo(@This()).create(.Mips4, "mips4", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips4,
        },
        CpuInfo(@This()).create(.Mips5, "mips5", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Mips5,
        },
        CpuInfo(@This()).create(.Mips64, "mips64", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Mips64,
        },
        CpuInfo(@This()).create(.Mips64r2, "mips64r2", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Mips64r2,
        },
        CpuInfo(@This()).create(.Mips64r3, "mips64r3", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Mips64r3,
        },
        CpuInfo(@This()).create(.Mips64r5, "mips64r5", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Mips64r5,
        },
        CpuInfo(@This()).create(.Mips64r6, "mips64r6", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Abs2008,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Nan2008,
            .Gp64,
            .Mips5_32r2,
            .Mips64r6,
        },
        CpuInfo(@This()).create(.Octeon, "octeon", &[_]FeatureType {
            .Mips3_32,
            .Fp64,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Gp64,
            .Mips5_32r2,
            .Cnmips,
            .Mips64r2,
        },
        CpuInfo(@This()).create(.P5600, "p5600", &[_]FeatureType {
            .Mips3_32,
            .Mips4_32r2,
            .Mips3_32r2,
            .Mips1,
            .Mips4_32,
            .Mips5_32r2,
            .P5600,
        },
    };
};
